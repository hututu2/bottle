<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>小瓶子</title>
    <link rel="stylesheet" href="bootstrap-grid-system.css">
    <style>
        h2,
        p,
        #btext {
            text-align: center;
        }
        
        body {
            height: 100%;
            display: flex;
            justify-content: center;
        }
        
        img {
            max-width: 60px;
        }
        
        #bottle {
            text-align: center;
        }
    </style>
</head>

<body>
    <div style="width: 90%;">
        <h2>今天来点什么小瓶子呢？</h2>
        <div id="control" class="container">
            <p><input type="text" name="theme" id="theme"><label for="text">小瓶子</label>
                <button onclick="changeTheme()" style="margin:1px;">修改主题</button></p>
            <p>添加小瓶子后点击小瓶子的名称可修改名称。╰(●’◡’●)╮点击小瓶子可变换瓶子中的糖果。</p>
            <p>点击删除小瓶子会删除最后一个小瓶子。</p>
            <p><button id="add" onclick="addBottle()" style="margin:1px;">添加一个小瓶子</button><button id="delete" onclick="removeBottle()" style="margin:1px;">删除一个小瓶子</button></p>
        </div>
        <hr width="75%">
        <h2 id="theTheme">______小瓶子</h2>
        <div id="bottle" class="row"></div>
    </div>
    
</body>
<script>
    function changeTheme() {
        var theme = document.getElementById("theme").value;
        if (theme) {
            document.getElementById("theTheme").innerText = theme + "小瓶子";
        }
    }

    function addBottle() {
        var text = prompt("这是个什么瓶子呢？", "_____");
        if (text) {
            var div = document.createElement("div"); //创建块
            div.setAttribute("class", "col-3 col-md-2"); //设置class
            var divBottle = document.getElementById("bottle");
            divBottle.appendChild(div);
            var newBottle = '<img data-level="0" src="b0.png"  onclick="thisimg=this;changeImg(thisimg);"><p id="p_text" onclick="thisP=this;changeText(thisP);">_____</p>';
            div.innerHTML = newBottle;
        }
    }

    function removeBottle() {
        var father = document.getElementById("bottle");
        var child = father.lastChild;
        if (child) {
            father.removeChild(child)
        };
    }

    function changeText(thisP) {
        newText = prompt('换个什么好呢？', thisP.firstChild.nodeValue);
        if (newText)
            thisP.innerHTML = newText;
    }

    function changeImg(thisimg) {
        var nowlevel = parseInt(thisimg.getAttribute('data-level'));
        var newlevel = nowlevel + 1;
        newlevel = newlevel % 6;
        thisimg.src = "b" + newlevel + ".png";
        thisimg.setAttribute('data-level', newlevel);
    }
</script>

</html>
